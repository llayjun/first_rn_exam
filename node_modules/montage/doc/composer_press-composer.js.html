<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: composer/press-composer.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: composer/press-composer.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*global require, exports*/

/**
 * @module montage/composer/press-composer
 * @requires montage/core/core
 * @requires montage/composer/composer
 * @requires montage/core/event/mutable-event
 */
var Montage = require("../core/core").Montage,
    Composer = require("./composer").Composer,
    MutableEvent = require("../core/event/mutable-event").MutableEvent;

/*
 * @class PressEvent
 * @inherits MutableEvent
 * @classdesc The event dispatched by the `PressComposer`, providing access to
 * the raw DOM event and proxying its properties.
 */
var PressEvent = (function (){

    function eventPropDescriptor(prop) {
        return {
            get: function () {
                return this._event[prop];
            }
        };
    }

    function typePropDescriptor(prop) {
        return {
            get: function () {
                return (this._touch) ? this._touch[prop] : this._event[prop];
            }
        };
    }

    var PressEvent = MutableEvent.specialize({
        type: {
            value: "press"
        },
        _event: {
            enumerable: false,
            value: null
        },
        event: {
            get: function () {
                return this._event;
            },
            set: function (value) {
                this._event = value;
            }
        },
        _touch: {
            enumerable: false,
            value: null
        },
        touch: {
            get: function () {
                return this._touch;
            },
            set: function (value) {
                this._touch = value;
            }
        }
    });

    // These properties are available directly on the event
    [
        "altKey", "ctrlKey", "metaKey", "shiftKey",
        "cancelBubble", "currentTarget", "defaultPrevented",
        "eventPhase", "timeStamp", "preventDefault",
        "stopImmediatePropagation", "stopPropagation"
    ].forEach(function (eventProp) {
        Montage.defineProperty(PressEvent, eventProp, eventPropDescriptor(eventProp));
    });


    // These properties are available on the event in the case of mouse, and
    // on the _touch in the case of touch
    ["clientX", "clientY", "pageX", "pageY", "screenX", "screenY", "target"].forEach(function (typeProp) {
        Montage.defineProperty(PressEvent, typeProp, typePropDescriptor(typeProp));
    });

    return PressEvent;
}());

/**
 * @class PressComposer
 * @classdesc The `PressComposer` abstracts away handling mouse and touch
 * events that represent presses, allowing generic detection of presses, long
 * presses, and cancelled presses.
 *
 * @extends Composer
 * @fires pressStart
 * @fires press
 * @fires longPress
 * @fires pressCancel
 */
var PressComposer = exports.PressComposer = Composer.specialize(/** @lends PressComposer.prototype # */ {

    /**
     * Dispatched when a press begins. It is ended by either a {@link press} or
     * {@link pressCancel} event.
     *
     * @event pressStart
     * @memberof PressComposer
     * @param {PressEvent} event
     */

    /**
     * Dispatched when a press is complete.
     *
     * @event press
     * @memberof PressComposer
     * @param {PressEvent} event
     */

    /**
     * Dispatched when a press lasts for longer than (@link longPressThreshold}
     * On a long press, the sequence of events will be:
     * - pressStart: as soon as the composer recognizes it is a press.
     * - longPress: `longPressThreshold` after the pressStart, if the press has
     *   not yet ended.
     * - press: when the press ends, if it isn't cancelled.
     *
     * Handlers of the `longPress` event can call `cancelPress` to prevent
     * `press` being triggered.
     *
     * @event longPress
     * @memberof PressComposer
     * @param {PressEvent} event
     */

    /**
     * Dispatched when a press is canceled. This could be because the pointer
     * left the element, was claimed by another component or maybe a phone call
     * came in.
     *
     * @event pressCancel
     * @memberof PressComposer
     * @param {PressEvent} event
     */

    // Load/unload

    load: {
        value: function () {
            if (window.PointerEvent) {
                this._element.addEventListener("pointerdown", this, true);

            } else if (window.MSPointerEvent &amp;&amp; window.navigator.msPointerEnabled) {
                this._element.addEventListener("MSPointerDown", this, true);

            } else {
                this._element.addEventListener("touchstart", this, true);
                this._element.addEventListener("mousedown", this, true);
            }
        }
    },

    unload: {
        value: function () {
            if (window.PointerEvent) {
                this._element.removeEventListener("pointerdown", this, true);

            } else if (window.MSPointerEvent &amp;&amp; window.navigator.msPointerEnabled) {
                this._element.removeEventListener("MSPointerDown", this, true);

            } else {
                this._element.removeEventListener("touchstart", this, true);
                this._element.removeEventListener("mousedown", this, true);
            }
        }
    },

    /**
     * Delegate that implements `surrenderPointer`. See Component for
     * explanation of what this method should do.
     *
     * @type {Object}
     * @default null
     */
    delegate: {
        value: null
    },


    /**
     * Cancel the current press.
     *
     * Can be used in a "longPress" event handler to prevent the "press" event
     * being fired.
     * @returns boolean true if a press was canceled, false if the composer was
     * already in a unpressed or canceled state.
     */
    cancelPress: {
        value: function () {
            if (this._state === PressComposer.PRESSED) {
                this._cancelPress();
                return true;
            }
            return false;
        }
    },

    _cancelPress: {
        value: function (event) {
            this._dispatchPressCancel(event);
            this._endInteraction();
        }
    },

    // Optimisation so that we don't set a timeout if we do not need to
    addEventListener: {
        value: function (type, listener, useCapture) {
            Composer.prototype.addEventListener.call(this, type, listener, useCapture);
            if (type === "longPress") {
                this._shouldDispatchLongPress = true;
            }
        }
    },

    _state: {
        value: 0
    },
    state: {
        get: function () {
            return this._state;
        }
    },

    _shouldDispatchLongPress: {
        value: false
    },

    _longPressThreshold: {
        value: 1000
    },

    /**
     * How long a press has to last (in milliseconds) for a longPress event to
     * be dispatched
     * @type number
     */
    longPressThreshold: {
        get: function () {
            return this._longPressThreshold;
        },
        set: function (value) {
            if (this._longPressThreshold !== value) {
                this._longPressThreshold = value;
            }
        }
    },

    _needDispatchSafePress: {
        value: false
    },

    _longPressTimeout: {
        value: null
    },

    // Magic

    _observedPointer: {
        value: null
    },

    _initialCenterPositionX: {
        value : 0
    },

    _initialCenterPositionY: {
        value: 0
    },

    _shouldSaveInitialCenterPosition: {
        value: false
    },

    _targetElementOnLastTouchMove: {
        value: null
    },

    /**
     * Remove event listeners after an interaction has finished.
     * @private
     */
    _endInteraction: {
        value: function () {
            if (this._element) {
                this._removeEventListeners();

                if (this.component.eventManager.isPointerClaimedByComponent(this._observedPointer, this)) {
                    this.component.eventManager.forfeitPointer(this._observedPointer, this);
                }

                this._observedPointer = null;
                this._targetElementOnLastTouchMove = null;
                this._state = PressComposer.UNPRESSED;
                this._initialCenterPositionX = 0;
                this._initialCenterPositionY = 0;
                this._shouldSaveInitialCenterPosition = false;
            }
        }
    },

    /**
     * Checks if we are observing one of the changed touches. Returns the index
     * of the changed touch if one matches, otherwise returns false. Make sure
     * to check against `!== false` or `=== false` as the
     * matching index might be 0.
     *
     * @function
     * @returns {number|boolean} The index of the matching touch, or false
     * @private
     */
    _changedTouchisObserved: {
        value: function (changedTouches) {
            if (this._observedPointer === null) {
                return false;
            }

            var i = 0, changedTouchCount = changedTouches.length;

            for (; i &lt; changedTouchCount; i++) {
                if (changedTouches[i].identifier === this._observedPointer) {
                    return i;
                }
            }
            return false;
        }
    },

    // Surrender pointer

    surrenderPointer: {
        value: function (pointer, component) {
            var shouldSurrender = this.callDelegateMethod(
                "shouldComposerSurrenderPointerToComponent", 
                this, 
                pointer, 
                component
            );

            if (typeof shouldSurrender !== "undefined" &amp;&amp; shouldSurrender === false) {
                return false;
            }

            this.cancelPress();

            return true;
        }
    },

    _shouldPerformPress: {
        value: function () {
            return !(this.component.disabled || this._observedPointer !== null);
        }
    },

    // Handlers

    capturePointerdown: {
        value: function (event) {
            if (event.pointerType === "touch" || (window.MSPointerEvent &amp;&amp; event.pointerType === window.MSPointerEvent.MSPOINTER_TYPE_TOUCH)) {
                this.captureTouchstart(event);

            } else if (event.pointerType === "mouse" || (window.MSPointerEvent &amp;&amp; event.pointerType === window.MSPointerEvent.MSPOINTER_TYPE_MOUSE)) {
                this.captureMousedown(event);
            }
        }
    },

    handlePointerup: {
        value: function (event) {
            if (event.pointerType === "touch" || (window.MSPointerEvent &amp;&amp; event.pointerType === window.MSPointerEvent.MSPOINTER_TYPE_TOUCH)) {
                this.handleTouchend(event);

            } else if (event.pointerType === "mouse" || (window.MSPointerEvent &amp;&amp; event.pointerType === window.MSPointerEvent.MSPOINTER_TYPE_MOUSE)) {
                this.handleMouseup(event);
            }
        }
    },

    handlePointercancel: {
        value: function (event) {
            if (event.pointerType === "touch" || (window.MSPointerEvent &amp;&amp; event.pointerType === window.MSPointerEvent.MSPOINTER_TYPE_TOUCH)) {
                this.handleTouchcancel(event);
            }
        }
    },

    captureTouchstart: {
        value: function (event) {
            if (this._shouldPerformPress()) {
                if (event.pointerId !== void 0) { // -> pointer events support.
                    this._observedPointer = event.pointerId;

                } else if (event.changedTouches &amp;&amp; event.changedTouches.length === 1) {
                    this._observedPointer = event.changedTouches[0].identifier;
                }

                if (this._observedPointer !== null &amp;&amp; this.component.eventManager.claimPointer(this._observedPointer, this)) {
                    this._addPointerDownListener();

                } else {
                    this._observedPointer = null;
                }
            }
        }
    },

    handleTouchend: {
        value: function (event) {
            if (this._observedPointer === null) {
                this._endInteraction(event);
                return;
            }

            var target;

            if (event.pointerId === this._observedPointer)  {
                target = event.target;

            } else if (this._changedTouchisObserved(event.changedTouches) !== false) {
                // We need to keep the last element reached by a touchmove because we can't just rely on the position
                // given by the touchEnd because in some cases, hiding the android keyboard for example, could result
                // to change the press composer's element position between a touchStart and a touchEnd event. Therefore,
                // getting the "wrong" target.
                target = this._targetElementOnLastTouchMove || event.target;
            }

            if (target &amp;&amp; this.component.eventManager.isPointerClaimedByComponent(this._observedPointer, this)) {
                if (this.element === target || this.element.contains(target)) {
                    this._dispatchPress(event, typeof event.pointerId === "undefined" ? target : null);

                } else {
                    this._dispatchPressCancel(event);
                }

                this._endInteraction(event);
            }
        }
    },

    // The PressComposer saves the initial center position after the first move or the first wheel event,
    // in order to wait for a possible css transform (translate, scale...) appeared on its element
    // after that the PressStart event has been raised.
    _saveInitialCenterPositionIfNeeded: {
        value: function () {
            if (this._shouldSaveInitialCenterPosition) {
                this._saveInitialCenterPosition();
                this._shouldSaveInitialCenterPosition = false;
            }
        }
    },

    _cancelPressIfCenterPositionChange: {
        value: function (event) {
            this._saveInitialCenterPositionIfNeeded();

            if (this._isPositionChanged(event)) {
                this._cancelPress(event);

                return true;
            }

            return false;
        }
    },

    _handleMove: {
        value: function (event) {
            if (this._observedPointer === null) {
                this._endInteraction(event);
                return;
            }

            this._needDispatchSafePress = false;

            if ((this._observedPointer === "mouse" || event.pointerId === this._observedPointer ||
                (event.changedTouches &amp;&amp; this._changedTouchisObserved(event.changedTouches) !== false)) &amp;&amp;
                this.component.eventManager.isPointerClaimedByComponent(this._observedPointer, this)) {

                if (!this._cancelPressIfCenterPositionChange(event) &amp;&amp; event.type === "touchmove") {
                    var touch = event.changedTouches[0];
                    this._targetElementOnLastTouchMove = document.elementFromPoint(touch.clientX, touch.clientY);
                }
            }
        }
    },

    captureWheel: {
        value: function (event) {
            if (this._observedPointer === null) {
                this._endInteraction(event);
                return;
            }

            if ((event.target === this.element || event.target === window ||
                (typeof event.target.contains === "function" &amp;&amp; event.target.contains(this.element)) || this.element.contains(event.target))) {

                this._cancelPressIfCenterPositionChange(event);
            }
        }
    },

    handleTouchcancel: {
        value: function (event) {
            if (this._observedPointer === null || event.pointerId === this._observedPointer || this._changedTouchisObserved(event.changedTouches) !== false) {
                if (this.component.eventManager.isPointerClaimedByComponent(this._observedPointer, this)) {
                    this._dispatchPressCancel(event);
                }

                this._endInteraction(event);
            }
        }
    },

    captureMousedown: {
        value: function (event) {
            if (event.button === 0 &amp;&amp; this._shouldPerformPress()) {
                this._observedPointer = "mouse";
                this.component.eventManager.claimPointer(this._observedPointer, this);

                if (this.component.eventManager.isPointerClaimedByComponent(this._observedPointer, this)) {
                    this._addPointerDownListener();

                } else{
                    this._observedPointer = null;
                }
            }
        }
    },


    /**
     * Handle every kind of interactions (touch, mouse or pointer),
     * in order to check if a press composer still claims the observed pointer in the bubbling phase.
     * @private
     */
    _handlePointerDown: {
        value: function (event) {
            this._removePointerDownListener();

            if (this.component.eventManager.isPointerClaimedByComponent(this._observedPointer, this)) {
                this._needDispatchSafePress = false;

                if (event.type === "touchstart") {
                    var self = this;

                    window.nativeAddEventListener("touchstart", function _touchStartDefaultPrevented (touchStartEvent) {
                        window.nativeRemoveEventListener("touchstart", _touchStartDefaultPrevented, false);
                        self._needDispatchSafePress = !touchStartEvent.defaultPrevented;
                    }, false);
                }

                this._shouldSaveInitialCenterPosition = true;
                this._addEventListeners();
                this._dispatchPressStart(event);

            } else {
                this._observedPointer = null;
            }
        }
    },

    captureScroll: {
        value: function (event) {
            if (event.target === this.element || event.target === window ||
                (typeof event.target.contains === "function" &amp;&amp; event.target.contains(this.element)) ||
                this.element.contains(event.target)) {

                this._cancelPressIfCenterPositionChange(event);
            }
        }
    },

    handleMouseup: {
        value: function (event) {
            if (this._observedPointer === null) {
                this._endInteraction(event);
                return;
            }

            if (this.component.eventManager.isPointerClaimedByComponent(this._observedPointer, this)) {
                var target = event.target;

                while (target !== this._element &amp;&amp; target &amp;&amp; target.parentNode) {
                    target = target.parentNode;
                }

                if (target === this._element) {
                    this._dispatchPress(event);
                    this._endInteraction(event);
                    return;
                }
            }

            this._cancelPress(event);
        }
    },

    handleDragstart: {
        value: function (event) {
            this._cancelPress(event);
        }
    },

    _saveInitialCenterPosition: {
        value: function () {
            // Makes sure we compute the position of a PressComposer’s element only on HTMLElement.
            // Indeed a press composer can be used on other objects such as document, window…
            if (this.element instanceof HTMLElement) {
                var boundingClientRect = this.element.getBoundingClientRect();

                this._initialCenterPositionX = boundingClientRect.left + (boundingClientRect.width / 2);
                this._initialCenterPositionY = boundingClientRect.top + (boundingClientRect.height / 2);
            }
        }
    },

    _isPositionChanged: {
        value: function (event) {
            if (this.element instanceof HTMLElement) {
                var boundingClientRect = this.element.getBoundingClientRect(),
                    newCenterPositionX = boundingClientRect.left + (boundingClientRect.width / 2),
                    newCenterPositionY = boundingClientRect.top + (boundingClientRect.height / 2);

                if (this._initialCenterPositionX !== newCenterPositionX || this._initialCenterPositionY !== newCenterPositionY) {
                    var type = event.type,
                        deltaX = Math.abs(this._initialCenterPositionX - newCenterPositionX),
                        deltaY = Math.abs(this._initialCenterPositionY - newCenterPositionY),
                        radius = this._observedPointer === "mouse" || type === "wheel" || type === "mousewheel" || type === "scroll" ?
                            this._mouseRadiusThreshold : this._touchRadiusThreshold;

                    return Composer.isCoordinateOutsideRadius(deltaX, deltaY, radius);
                }
            }

            return false;
        }
    },

    _mouseRadiusThreshold: {
        value: 2 //px
    },

    _touchRadiusThreshold: {
        value: 4 //px
    },

    _addPointerDownListener: {
        value: function () {
            if (window.PointerEvent) {
                this._element.addEventListener("pointerdown", this, false);

            } else if (window.MSPointerEvent &amp;&amp; window.navigator.msPointerEnabled) {
                this._element.addEventListener("MSPointerDown", this, false);

            } else {
                if (this._observedPointer === "mouse") {
                    this._element.addEventListener("mousedown", this, false);

                } else {
                    this._element.addEventListener("touchstart", this, false);
                }
            }
        }
    },

    _removePointerDownListener: {
        value: function () {
            if (window.PointerEvent) {
                this._element.removeEventListener("pointerdown", this, false);

            } else if (window.MSPointerEvent &amp;&amp; window.navigator.msPointerEnabled) {
                this._element.removeEventListener("MSPointerDown", this, false);

            } else {
                if (this._observedPointer === "mouse") {
                    this._element.removeEventListener("mousedown", this, false);

                } else {
                    this._element.removeEventListener("touchstart", this, false);
                }
            }
        }
    },

    _addEventListeners: {
        value: function () {
            if (window.PointerEvent) {
                if (this.shawdowRoot) {
                    this.shawdowRoot.addEventListener("pointerup", this, false);
                    this.shawdowRoot.addEventListener("pointermove", this, false);
                    this.shawdowRoot.addEventListener("pointercancel", this, false);
                }

                document.addEventListener("pointerup", this, false);
                document.addEventListener("pointermove", this, false);
                document.addEventListener("pointercancel", this, false);

            } else if (window.MSPointerEvent &amp;&amp; window.navigator.msPointerEnabled) {
                if (this.shawdowRoot) {
                    this.shawdowRoot.addEventListener("MSPointerUp", this, false);
                    this.shawdowRoot.addEventListener("MSPointerMove", this, false);
                    this.shawdowRoot.addEventListener("MSPointerCancel", this, false);
                }

                document.addEventListener("MSPointerUp", this, false);
                document.addEventListener("MSPointerMove", this, false);
                document.addEventListener("MSPointerCancel", this, false);

            } else {
                if (this._observedPointer === "mouse") {
                    if (this.shawdowRoot) {
                        this.shawdowRoot.addEventListener("mouseup", this, false);
                        this.shawdowRoot.addEventListener("mousemove", this, false);
                        this.shawdowRoot.addEventListener("dragstart", this, false);
                    }

                    document.addEventListener("mouseup", this, false);
                    document.addEventListener("mousemove", this, false);

                    // Needed to cancel the press because once a drag is started
                    // no mouse events are fired
                    // http://www.whatwg.org/specs/web-apps/current-work/multipage/dnd.html#initiate-the-drag-and-drop-operation
                    this._element.addEventListener("dragstart", this, false);

                } else {
                    if (this.shawdowRoot) {
                        this.shawdowRoot.addEventListener("touchend", this, false);
                        this.shawdowRoot.addEventListener("touchcancel", this, false);
                        this.shawdowRoot.addEventListener("touchmove", this, false);
                    }

                    document.addEventListener("touchend", this, false);
                    document.addEventListener("touchcancel", this, false);
                    document.addEventListener("touchmove", this, false);
                }
            }

            var wheelEventName = typeof window.onwheel !== "undefined" || typeof window.WheelEvent !== "undefined" ?
                "wheel" : "mousewheel";
            
            if (this.shawdowRoot) {
                this.shawdowRoot.addEventListener(wheelEventName, this, true);
                this.shawdowRoot.addEventListener("scroll", this, true);
            }

            document.addEventListener(wheelEventName, this, true);
            document.addEventListener("scroll", this, true);
        }
    },

    _removeEventListeners: {
        value: function () {
            if (window.PointerEvent) {
                if (this.shawdowRoot) {
                    this.shawdowRoot.removeEventListener("pointerup", this, false);
                    this.shawdowRoot.removeEventListener("pointermove", this, false);
                    this.shawdowRoot.removeEventListener("pointercancel", this, false);
                }

                document.removeEventListener("pointerup", this, false);
                document.removeEventListener("pointermove", this, false);
                document.removeEventListener("pointercancel", this, false);

            } else if (window.MSPointerEvent &amp;&amp; window.navigator.msPointerEnabled) {
                if (this.shawdowRoot) {
                    this.shawdowRoot.removeEventListener("MSPointerUp", this, false);
                    this.shawdowRoot.removeEventListener("MSPointerMove", this, false);
                    this.shawdowRoot.removeEventListener("MSPointerCancel", this, false);
                }

                document.removeEventListener("MSPointerUp", this, false);
                document.removeEventListener("MSPointerMove", this, false);
                document.removeEventListener("MSPointerCancel", this, false);

            } else {
                if (this._observedPointer === "mouse") {
                    if (this.shawdowRoot) {
                        this.shawdowRoot.removeEventListener("mouseup", this, false);
                        this.shawdowRoot.removeEventListener("mousemove", this, false);
                        this.shawdowRoot.removeEventListener("dragstart", this, false);
                    }

                    document.removeEventListener("mouseup", this, false);
                    document.removeEventListener("mousemove", this, false);

                    // Needed to cancel the press because once a drag is started
                    // no mouse events are fired
                    // http://www.whatwg.org/specs/web-apps/current-work/multipage/dnd.html#initiate-the-drag-and-drop-operation
                    this._element.removeEventListener("dragstart", this, false);
                    

                } else {
                    if (this.shawdowRoot) {
                        this.shawdowRoot.removeEventListener("touchend", this, false);
                        this.shawdowRoot.removeEventListener("touchcancel", this, false);
                        this.shawdowRoot.removeEventListener("touchmove", this, false);
                    }

                    document.removeEventListener("touchend", this, false);
                    document.removeEventListener("touchcancel", this, false);
                    document.removeEventListener("touchmove", this, false);
                }
            }

            var wheelEventName = typeof window.onwheel !== "undefined" || typeof window.WheelEvent !== "undefined" ?
                "wheel" : "mousewheel";
            
            if (this.shawdowRoot) {
                this.shawdowRoot.removeEventListener(wheelEventName, this, true);
                this.shawdowRoot.removeEventListener("scroll", this, true);
            }

            document.removeEventListener(wheelEventName, this, true);
            document.removeEventListener("scroll", this, true);
        }
    },

    // Event dispatch

    _createPressEvent: {
        enumerable: false,
        value: function (name, event) {
            var contactPoint = event,
                pressEvent, index;

            if (!event) {
                event = document.createEvent("CustomEvent");
                event.initCustomEvent(name, true, true, null);
            }

            pressEvent = new PressEvent();
            pressEvent.event = event;
            pressEvent.type = name;
            pressEvent.pointer = this._observedPointer;
            pressEvent.targetElement = event.target;

            if (event.changedTouches &amp;&amp; (index = this._changedTouchisObserved(event.changedTouches)) !== false) {
                contactPoint = pressEvent.touch = event.changedTouches[index];
            }

            if (contactPoint) { // a PressCancel event can be dispatched programtically, so with no event.
                pressEvent.clientX = contactPoint.clientX;
                pressEvent.clientY = contactPoint.clientY;
                pressEvent.pageX = contactPoint.pageX;
                pressEvent.pageY = contactPoint.pageY;
            }

            return pressEvent;
        }
    },

    _dispatchPressStart: {
        enumerable: false,
        value: function (event) {
            this._state = PressComposer.PRESSED;
            this.dispatchEvent(this._createPressEvent("pressStart", event));

            if (this._shouldDispatchLongPress) {
                var self = this;

                this._longPressTimeout = setTimeout(function () {
                    self._dispatchLongPress(event.target);
                }, this._longPressThreshold);
            }
        }
    },

    _dispatchPress: {
        enumerable: false,
        value: function (event, touchEndTargetElement) {
            if (this._shouldDispatchLongPress) {
                clearTimeout(this._longPressTimeout);
                this._longPressTimeout = null;
            }

            var pressEvent = this._createPressEvent("press", event);

            // The target of touchend events is actually the same element on which the touch point started.
            // So, we override the property targetElement of the PressEvent with the element on which the touch point has been released.
            if (touchEndTargetElement) {
                pressEvent.targetElement = touchEndTargetElement;

                if (this._needDispatchSafePress || event.defaultPrevented) {// no simulated events when a touchMove has been raised
                    var self = this,
                        eventManager = document.defaultView.defaultEventManager;

                    // Raise a Press event after the simulated mousedown event has been raised,
                    // in order to avoid elements that are not on the same layer  to get the focus.
                    // @example: When a button is pressed in order to hide a overlay that it belong to.
                    // Knowing that, the simulated mouse events are not dispatched by the event manager, but they are still
                    // walking the dom. An issue could happen here when the positioning of elements is changing (z-index)
                    // after the press event has been raised, which could result to giving the focus to a wrong element.
                    // @example: @see press-composer.info
                    //@todo: should be deprecated when browsers will support PointerEvents.
                    var dispatchSafePressCallBack = function (mouseDownEvent) {
                        if (touchEndTargetElement === mouseDownEvent.target ||
                            eventManager._couldEmulatedEventHaveWrongTarget(
                                event.changedTouches[0],
                                mouseDownEvent,
                                eventManager._emulatedEventRadiusThreshold,
                                eventManager._emulatedEventTimestampThreshold
                            )
                        ) {
                            self._dispatchSafePress(pressEvent, dispatchSafePressCallBack);
                        }
                    };

                    window.nativeAddEventListener("mousedown", dispatchSafePressCallBack, true);

                    // -> long press fallBack: no simulated events with long touch press.
                    dispatchSafePressCallBack.timeoutID = setTimeout(function () {
                        self._dispatchSafePress(pressEvent, dispatchSafePressCallBack);
                    }, 300);

                    return void 0;
                }
            }

            this.dispatchEvent(pressEvent);
            this._state = PressComposer.UNPRESSED;
        }
    },

    _dispatchSafePress: {
        value: function (pressEvent, dispatchSafePressCallBack) {
            clearTimeout(dispatchSafePressCallBack.timeoutID);
            dispatchSafePressCallBack.timeoutID = null;
            window.nativeRemoveEventListener("mousedown", dispatchSafePressCallBack, true);
            this.dispatchEvent(pressEvent);
            this._state = PressComposer.UNPRESSED;
        }
    },

    _dispatchLongPress: {
        enumerable: false,
        value: function (targetElement) {
            var event, target;
            if (this._shouldDispatchLongPress) {
                event = this._createPressEvent("longPress");
                event.targetElement = targetElement;
                this.dispatchEvent(event);
                this._longPressTimeout = null;
            }
        }
    },

    _dispatchPressCancel: {
        enumerable: false,
        value: function (event) {
            if (this._shouldDispatchLongPress) {
                clearTimeout(this._longPressTimeout);
                this._longPressTimeout = null;
            }

            this._state = PressComposer.CANCELLED;
            this.dispatchEvent(this._createPressEvent("pressCancel", event));
        }
    }

} , {
    UNPRESSED: {
        value: 0
    },
    PRESSED: {
        value: 1
    },
    CANCELLED: {
        value: 2
    }
});

PressComposer.prototype.captureMSPointerDown = PressComposer.prototype.capturePointerdown;
PressComposer.prototype.handleMSPointerUp = PressComposer.prototype.handlePointerup;
PressComposer.prototype.handleMSPointerCancel = PressComposer.prototype.handlePointercancel;
PressComposer.prototype.handleMSPointerMove = PressComposer.prototype._handleMove;
PressComposer.prototype.handlePointermove = PressComposer.prototype._handleMove;
PressComposer.prototype.handleTouchmove = PressComposer.prototype._handleMove;
PressComposer.prototype.handleMousemove = PressComposer.prototype._handleMove;
PressComposer.prototype.handleMousewheel = PressComposer.prototype.handleWheel;
PressComposer.prototype.handleMSPointerDown = PressComposer.prototype._handlePointerDown;
PressComposer.prototype.handlePointerdown = PressComposer.prototype._handlePointerDown;
PressComposer.prototype.handleMousedown = PressComposer.prototype._handlePointerDown;
PressComposer.prototype.handleTouchstart = PressComposer.prototype._handlePointerDown;

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-_._foo.reel_.html">"./foo.reel"</a></li><li><a href="module-_montage_ui_condition.reel_.html">"montage/ui/condition.reel"</a></li><li><a href="module-_montage_ui_flow.reel_.html">"montage/ui/flow.reel"</a></li><li><a href="module-_montage_ui_input-radio.reel_.html">"montage/ui/input-radio.reel"</a></li><li><a href="module-_montage_ui_label.reel_.html">"montage/ui/label.reel"</a></li><li><a href="module-_montage_ui_loader.reel_.html">"montage/ui/loader.reel"</a></li><li><a href="module-_montage_ui_native_button.reel_.html">"montage/ui/native/button.reel"</a></li><li><a href="module-_montage_ui_native_checkbox.reel_.html">"montage/ui/native/checkbox.reel"</a></li><li><a href="module-_montage_ui_native_image.reel_.html">"montage/ui/native/image.reel"</a></li><li><a href="module-_montage_ui_native_input-date.reel_.html">"montage/ui/native/input-date.reel"</a></li><li><a href="module-_montage_ui_native_input-number.reel_.html">"montage/ui/native/input-number.reel"</a></li><li><a href="module-_montage_ui_native_input-range.reel_.html">"montage/ui/native/input-range.reel"</a></li><li><a href="module-_montage_ui_native_input-text.reel_.html">"montage/ui/native/input-text.reel"</a></li><li><a href="module-_montage_ui_native_progress.reel_.html">"montage/ui/native/progress.reel"</a></li><li><a href="module-_montage_ui_native_select.reel_.html">"montage/ui/native/select.reel"</a></li><li><a href="module-_montage_ui_native_textarea.reel_.html">"montage/ui/native/textarea.reel"</a></li><li><a href="module-_montage_ui_repetition.reel_.html">"montage/ui/repetition.reel"</a></li><li><a href="module-_montage_ui_segmented-bar.reel_.html">"montage/ui/segmented-bar.reel"</a></li><li><a href="module-_montage_ui_slot.reel_.html">"montage/ui/slot.reel"</a></li><li><a href="module-_montage_ui_substitution.reel_.html">"montage/ui/substitution.reel"</a></li><li><a href="module-_montage_ui_succession.reel_.html">"montage/ui/succession.reel"</a></li><li><a href="module-_montage_ui_text.reel_.html">"montage/ui/text.reel"</a></li><li><a href="module-_native_ui_anchor.reel_.html">"native/ui/anchor.reel"</a></li><li><a href="module-_ui_main.reel_.html">"ui/main.reel"</a></li><li><a href="module-_ui_modal-overlay.reel_.html">"ui/modal-overlay.reel"</a></li><li><a href="module-_ui_overlay.reel_.html">"ui/overlay.reel"</a></li><li><a href="module-_ui_segmented-bar.reel_segment.reel_.html">"ui/segmented-bar.reel/segment.reel"</a></li><li><a href="module-core_application.html">core/application</a></li><li><a href="module-montage_composer_composer.html">montage/composer/composer</a></li><li><a href="module-montage_composer_key-composer.html">montage/composer/key-composer</a></li><li><a href="module-montage_composer_press-composer.html">montage/composer/press-composer</a></li><li><a href="module-montage_composer_swipe-composer.html">montage/composer/swipe-composer</a></li><li><a href="module-montage_composer_translate-composer.html">montage/composer/translate-composer</a></li><li><a href="module-montage_core_bindings.html">montage/core/bindings</a></li><li><a href="module-montage_core_bitfield.html">montage/core/bitfield</a></li><li><a href="module-montage_core_converter_bytes-converter.html">montage/core/converter/bytes-converter</a></li><li><a href="module-montage_core_converter_camel-case-converter.html">montage/core/converter/camel-case-converter</a></li><li><a href="module-montage_core_converter_converter.html">montage/core/converter/converter</a></li><li><a href="module-montage_core_converter_currency-converter.html">montage/core/converter/currency-converter</a></li><li><a href="module-montage_core_converter_date-converter.html">montage/core/converter/date-converter</a></li><li><a href="module-montage_core_converter_invert-converter.html">montage/core/converter/invert-converter</a></li><li><a href="module-montage_core_converter_kebab-case-converter.html">montage/core/converter/kebab-case-converter</a></li><li><a href="module-montage_core_converter_lower-case-converter.html">montage/core/converter/lower-case-converter</a></li><li><a href="module-montage_core_converter_new-line-to-br-converter.html">montage/core/converter/new-line-to-br-converter</a></li><li><a href="module-montage_core_converter_number-converter.html">montage/core/converter/number-converter</a></li><li><a href="module-montage_core_converter_number-to-nearest-integer-converter.html">montage/core/converter/number-to-nearest-integer-converter</a></li><li><a href="module-montage_core_converter_snake-case-converter.html">montage/core/converter/snake-case-converter</a></li><li><a href="module-montage_core_converter_trim-converter.html">montage/core/converter/trim-converter</a></li><li><a href="module-montage_core_converter_upper-case-converter.html">montage/core/converter/upper-case-converter</a></li><li><a href="module-montage_core_core.html">montage/core/core</a></li><li><a href="module-montage_core_deprecate.html">montage/core/deprecate</a></li><li><a href="module-montage_core_dom.html">montage/core/dom</a></li><li><a href="module-montage_core_enum.html">montage/core/enum</a></li><li><a href="module-montage_core_event_action-event-listener.html">montage/core/event/action-event-listener</a></li><li><a href="module-montage_core_event_event-manager.html">montage/core/event/event-manager</a></li><li><a href="module-montage_core_event_key-manager.html">montage/core/event/key-manager</a></li><li><a href="module-montage_core_event_mutable-event.html">montage/core/event/mutable-event</a></li><li><a href="module-montage_core_exception.html">montage/core/exception</a></li><li><a href="module-montage_core_extras_date.html">montage/core/extras/date</a></li><li><a href="module-montage_core_extras_function.html">montage/core/extras/function</a></li><li><a href="module-montage_core_extras_object.html">montage/core/extras/object</a></li><li><a href="module-montage_core_extras_string.html">montage/core/extras/string</a></li><li><a href="module-montage_core_gate.html">montage/core/gate</a></li><li><a href="module-montage_core_geometry_cubic-bezier.html">montage/core/geometry/cubic-bezier</a></li><li><a href="module-montage_core_geometry_point.html">montage/core/geometry/point</a></li><li><a href="module-montage_core_localizer.html">montage/core/localizer</a></li><li><a href="module-montage_core_logger.html">montage/core/logger</a></li><li><a href="module-montage_core_meta_validation-rule.html">montage/core/meta/validation-rule</a></li><li><a href="module-montage_core_module-reference.html">montage/core/module-reference</a></li><li><a href="module-montage_core_object-controller.html">montage/core/object-controller</a></li><li><a href="module-montage_core_range-controller.html">montage/core/range-controller</a></li><li><a href="module-montage_core_serialization.html">montage/core/serialization</a></li><li><a href="module-montage_core_serialization_serializer_montage-serializer.html">montage/core/serialization/serializer/montage-serializer</a></li><li><a href="module-montage_core_shim_array.html">montage/core/shim/array</a></li><li><a href="module-montage_core_shim_object.html">montage/core/shim/object</a></li><li><a href="module-montage_core_shim_string.html">montage/core/shim/string</a></li><li><a href="module-montage_core_state-chart.html">montage/core/state-chart</a></li><li><a href="module-montage_core_undo-manager.html">montage/core/undo-manager</a></li><li><a href="module-montage_core_uuid.html">montage/core/uuid</a></li><li><a href="module-montage_data_object-property.html">montage/data/object-property</a></li><li><a href="module-montage_serialization_serialization.html">montage/serialization/serialization</a></li><li><a href="module-montage_ui_base_abstract-button.html">montage/ui/base/abstract-button</a></li><li><a href="module-montage_ui_base_abstract-control.html">montage/ui/base/abstract-control</a></li><li><a href="module-montage_ui_check-control.html">montage/ui/check-control</a></li><li><a href="module-montage_ui_component.html">montage/ui/component</a></li><li><a href="module-montage_ui_control.html">montage/ui/control</a></li><li><a href="module-montage_ui_controller_media-controller.html">montage/ui/controller/media-controller</a></li><li><a href="module-montage_ui_passage.html">montage/ui/passage</a></li><li><a href="module-montage_ui_text-input.html">montage/ui/text-input</a></li><li><a href="montage_ui_base_abstract-image.module_reel.html">reel</a></li><li><a href="montage_ui_base_abstract-select.module_reel.html">reel</a></li><li><a href="montage_ui_base_abstract-slider.module_reel.html">reel</a></li><li><a href="montage_ui_base_abstract-toggle-button.module_reel.html">reel</a></li><li><a href="montage_ui_base_abstract-toggle-switch.module_reel.html">reel</a></li><li><a href="montage_ui_base_abstract-video.module_reel.html">reel</a></li><li><a href="ui_alert.module_reel.html">reel</a></li><li><a href="ui_base_abstract-progress-bar.module_js.html">js</a></li><li><a href="ui_caption.module_reel.html">reel</a></li><li><a href="ui_draggable-square.module_reel.html">reel</a></li><li><a href="ui_list.module_reel.html">reel</a></li><li><a href="ui_main.module_reel.html">reel</a></li><li><a href="ui_montage-studio-loader.module_reel.html">reel</a></li><li><a href="ui_press-composer-layers.module_reel.html">reel</a></li><li><a href="ui_square.module_reel.html">reel</a></li><li><a href="ui_tree-list.module_reel.html">reel</a></li><li><a href="-_rotation-composer.module_reel.html">reel</a></li></ul><h3>Externals</h3><ul><li><a href="external-Array.html">Array</a></li><li><a href="external-Function.html">Function</a></li><li><a href="external-Object.html">Object</a></li><li><a href="external-RegExp.html">RegExp</a></li><li><a href="external-String.html">String</a></li></ul><h3>Classes</h3><ul><li><a href="AbstractCheckbox.html">AbstractCheckbox</a></li><li><a href="AbstractLink.html">AbstractLink</a></li><li><a href="AbstractNumberField.html">AbstractNumberField</a></li><li><a href="AbstractRadioButton.html">AbstractRadioButton</a></li><li><a href="AbstractTextArea.html">AbstractTextArea</a></li><li><a href="AbstractTextField.html">AbstractTextField</a></li><li><a href="Alias.html">Alias</a></li><li><a href="Authorization.html">Authorization</a></li><li><a href="AuthorizationManager.html">AuthorizationManager</a></li><li><a href="AuthorizationService.html">AuthorizationService</a></li><li><a href="BlueprintDataMapping.html">BlueprintDataMapping</a></li><li><a href="ConnectionDescriptor.html">ConnectionDescriptor</a></li><li><a href="DataIdentifier.html">DataIdentifier</a></li><li><a href="DataMapping.html">DataMapping</a></li><li><a href="DataObjectDescriptor.html">DataObjectDescriptor</a></li><li><a href="DataOperation.html">DataOperation</a></li><li><a href="DataOrdering.html">DataOrdering</a></li><li><a href="DataPropertyDescriptor.html">DataPropertyDescriptor</a></li><li><a href="DataProvider.html">DataProvider</a></li><li><a href="DataQuery.html">DataQuery</a></li><li><a href="DataSelector.html">DataSelector</a></li><li><a href="DataService.html">DataService</a></li><li><a href="DataStream.html">DataStream</a></li><li><a href="DerivedDescriptor.html">DerivedDescriptor</a></li><li><a href="ElementReference.html">ElementReference</a></li><li><a href="Enumeration.html">Enumeration</a></li><li><a href="EventDescriptor.html">EventDescriptor</a></li><li><a href="ExpressionDataMapping.html">ExpressionDataMapping</a></li><li><a href="Flow.html">Flow</a></li><li><a href="FlowTranslateComposer.html">FlowTranslateComposer</a></li><li><a href="HttpService.html">HttpService</a></li><li><a href="HttpService.DataType.html">DataType</a></li><li><a href="ImageGallery.html">ImageGallery</a></li><li><a href="ImageGalleryItem.html">ImageGalleryItem</a></li><li><a href="IndexedDBDataService.html">IndexedDBDataService</a></li><li><a href="Main.html">Main</a></li><li><a href="MappingRule.html">MappingRule</a></li><li><a href="Message.html">Message</a></li><li><a href="MessageFormat.html">MessageFormat</a></li><li><a href="Model.html">Model</a></li><li><a href="ModelGroup.html">ModelGroup</a></li><li><a href="module-_._foo.reel_.Foo.html">Foo</a></li><li><a href="module-_montage_ui_condition.reel_-Condition.html">Condition</a></li><li><a href="module-_montage_ui_flow.reel_-Flow.html">Flow</a></li><li><a href="module-_montage_ui_loader.reel_-Loader.html">Loader</a></li><li><a href="module-_montage_ui_native_button.reel_.Button.html">Button</a></li><li><a href="module-_montage_ui_native_checkbox.reel_.Checkbox.html">Checkbox</a></li><li><a href="module-_montage_ui_native_image.reel_.Image.html">Image</a></li><li><a href="module-_montage_ui_native_input-date.reel_.InputDate.html">InputDate</a></li><li><a href="module-_montage_ui_native_input-number.reel_.InputNumber.html">InputNumber</a></li><li><a href="module-_montage_ui_native_input-radio.reel_.InputRadio.html">InputRadio</a></li><li><a href="module-_montage_ui_native_input-range.reel_.InputRange.html">InputRange</a></li><li><a href="module-_montage_ui_native_input-text.reel_.InputText.html">InputText</a></li><li><a href="module-_montage_ui_native_progress.reel_.Progress.html">Progress</a></li><li><a href="module-_montage_ui_native_select.reel_.Select.html">Select</a></li><li><a href="module-_montage_ui_native_textarea.reel_.Textarea.html">Textarea</a></li><li><a href="module-_montage_ui_repetition.reel_-Iteration.html">Iteration</a></li><li><a href="module-_montage_ui_repetition.reel_-Repetition.html">Repetition</a></li><li><a href="module-_montage_ui_segmented-bar.reel_-SegmentedBar.html">SegmentedBar</a></li><li><a href="module-_montage_ui_slot.reel_-Slot.html">Slot</a></li><li><a href="module-_montage_ui_substitution.reel_-Substitution.html">Substitution</a></li><li><a href="module-_montage_ui_succession.reel_-Succession.html">Succession</a></li><li><a href="module-_ui_anchor.reel_.Anchor.html">Anchor</a></li><li><a href="module-_ui_main.reel_.Main.html">Main</a></li><li><a href="module-_ui_modal-overlay.reel_-ModalOverlay.html">ModalOverlay</a></li><li><a href="module-_ui_overlay.reel_-Overlay.html">Overlay</a></li><li><a href="module-_ui_segmented-bar.reel_segment.reel_.Segment.html">Segment</a></li><li><a href="module-core_application-Application.html">Application</a></li><li><a href="module-montage_composer_composer-Composer.html">Composer</a></li><li><a href="module-montage_composer_key-composer-KeyComposer.html">KeyComposer</a></li><li><a href="module-montage_composer_press-composer-PressComposer.html">PressComposer</a></li><li><a href="module-montage_composer_swipe-composer-SwipeComposer.html">SwipeComposer</a></li><li><a href="module-montage_composer_translate-composer-TranslateComposer.html">TranslateComposer</a></li><li><a href="module-montage_core_bitfield-BitField.html">BitField</a></li><li><a href="module-montage_core_converter_bytes-converter-BytesConverter.html">BytesConverter</a></li><li><a href="module-montage_core_converter_camel-case-converter-CamelCaseConverter.html">CamelCaseConverter</a></li><li><a href="module-montage_core_converter_converter-Converter.html">Converter</a></li><li><a href="module-montage_core_converter_converter-Validator.html">Validator</a></li><li><a href="module-montage_core_converter_currency-converter-CurrencyConverter.html">CurrencyConverter</a></li><li><a href="module-montage_core_converter_date-converter-DateConverter.html">DateConverter</a></li><li><a href="module-montage_core_converter_date-converter-DateValidator.html">DateValidator</a></li><li><a href="module-montage_core_converter_invert-converter-InvertConverter.html">InvertConverter</a></li><li><a href="module-montage_core_converter_kebab-case-converter-KebabCaseConverter.html">KebabCaseConverter</a></li><li><a href="module-montage_core_converter_lower-case-converter-LowerCaseConverter.html">LowerCaseConverter</a></li><li><a href="module-montage_core_converter_new-line-to-br-converter-NewLineToBrConverter.html">NewLineToBrConverter</a></li><li><a href="module-montage_core_converter_number-converter-NumberConverter.html">NumberConverter</a></li><li><a href="module-montage_core_converter_number-converter-NumberValidator.html">NumberValidator</a></li><li><a href="module-montage_core_converter_number-to-nearest-integer-converter-NumberToNearestIntegerConverter.html">NumberToNearestIntegerConverter</a></li><li><a href="module-montage_core_converter_snake-case-converter-SnakeCaseConverter.html">SnakeCaseConverter</a></li><li><a href="module-montage_core_converter_trim-converter-ExpressionConverter.html">ExpressionConverter</a></li><li><a href="module-montage_core_converter_trim-converter-TrimConverter.html">TrimConverter</a></li><li><a href="module-montage_core_converter_upper-case-converter-UpperCaseConverter.html">UpperCaseConverter</a></li><li><a href="module-montage_core_core-Montage.html">Montage</a></li><li><a href="module-montage_core_enum-Enum.html">Enum</a></li><li><a href="module-montage_core_event_action-event-listener-ActionEventListener.html">ActionEventListener</a></li><li><a href="module-montage_core_event_event-manager-EventManager.html">EventManager</a></li><li><a href="module-montage_core_event_key-manager-KeyManager.html">KeyManager</a></li><li><a href="module-montage_core_event_mutable-event-MutableEvent.html">MutableEvent</a></li><li><a href="module-montage_core_exception-Exception.html">Exception</a></li><li><a href="module-montage_core_gate-Gate.html">Gate</a></li><li><a href="module-montage_core_geometry_cubic-bezier-CubicBezier.html">CubicBezier</a></li><li><a href="module-montage_core_geometry_point-Point.html">Point</a></li><li><a href="module-montage_core_localizer-Localizer.html">Localizer</a></li><li><a href="module-montage_core_localizer-Message.html">Message</a></li><li><a href="module-montage_core_logger-Logger.html">Logger</a></li><li><a href="module-montage_core_meta_validation-rule-PropertyValidationRule.html">PropertyValidationRule</a></li><li><a href="module-montage_core_module-reference-ModuleReference.html">ModuleReference</a></li><li><a href="module-montage_core_object-controller-ObjectController.html">ObjectController</a></li><li><a href="module-montage_core_range-controller-RangeController.html">RangeController</a></li><li><a href="module-montage_core_state-chart-State.html">State</a></li><li><a href="module-montage_core_state-chart-StateChart.html">StateChart</a></li><li><a href="module-montage_core_uuid-Uuid.html">Uuid</a></li><li><a href="module-montage_data_object-property-ObjectProperty.html">ObjectProperty</a></li><li><a href="module-montage_serialization_serialization-Serialization.html">Serialization</a></li><li><a href="module-montage_serialization_serialization-SerializationExtractor.html">SerializationExtractor</a></li><li><a href="module-montage_serialization_serialization-SerializationInspector.html">SerializationInspector</a></li><li><a href="module-montage_serialization_serialization-SerializationMerger.html">SerializationMerger</a></li><li><a href="module-montage_ui_base_abstract-button-AbstractButton.html">AbstractButton</a></li><li><a href="module-montage_ui_base_abstract-control-AbstractControl.html">AbstractControl</a></li><li><a href="module-montage_ui_check-input.CheckControl.html">CheckControl</a></li><li><a href="module-montage_ui_component-Component.html">Component</a></li><li><a href="module-montage_ui_component-RootComponent.html">RootComponent</a></li><li><a href="module-montage_ui_control.Control.html">Control</a></li><li><a href="module-montage_ui_controller_media-controller-MediaController.html">MediaController</a></li><li><a href="module-montage_ui_passage-Passage.html">Passage</a></li><li><a href="module-montage_ui_text.Text.html">Text</a></li><li><a href="module-montage_ui_text-input.TextInput.html">TextInput</a></li><li><a href="ModuleObjectDescriptor.html">ModuleObjectDescriptor</a></li><li><a href="ModuleReference.html">ModuleReference</a></li><li><a href="montage_ui_base_abstract-image.module_reel-AbstractImage.html">AbstractImage</a></li><li><a href="montage_ui_base_abstract-select.module_reel-AbstractSelect.html">AbstractSelect</a></li><li><a href="montage_ui_base_abstract-slider.module_reel-AbstractSlider.html">AbstractSlider</a></li><li><a href="montage_ui_base_abstract-toggle-button.module_reel-AbstractToggleButton.html">AbstractToggleButton</a></li><li><a href="montage_ui_base_abstract-toggle-switch.module_reel-AbstractToggleSwitch.html">AbstractToggleSwitch</a></li><li><a href="montage_ui_base_abstract-video.module_reel-AbstractVideo.html">AbstractVideo</a></li><li><a href="MontageBuilder.html">MontageBuilder</a></li><li><a href="MontageReviver.html">MontageReviver</a></li><li><a href="ObjectDescriptor.html">ObjectDescriptor</a></li><li><a href="PersistentDataService.html">PersistentDataService</a></li><li><a href="PipelineConverter.html">PipelineConverter</a></li><li><a href="PromiseController.html">PromiseController</a></li><li><a href="PropertyDescriptor.html">PropertyDescriptor</a></li><li><a href="PropertyValidationSemantics.html">PropertyValidationSemantics</a></li><li><a href="RadioButtonController.html">RadioButtonController</a></li><li><a href="RangeController.html">RangeController</a></li><li><a href="RawDataService.html">RawDataService</a></li><li><a href="RawPropertyValueToObjectConverter.html">RawPropertyValueToObjectConverter</a></li><li><a href="SnapshotService.html">SnapshotService</a></li><li><a href="Target.html">Target</a></li><li><a href="Template.html">Template</a></li><li><a href="TemplateResources.html">TemplateResources</a></li><li><a href="ui_alert.module_reel-Alert.html">Alert</a></li><li><a href="ui_base_abstract-progress-bar.module_js-AbstractProgressBar.html">AbstractProgressBar</a></li><li><a href="ui_caption.module_reel-Caption.html">Caption</a></li><li><a href="ui_draggable-square.module_reel-DraggableSquare.html">DraggableSquare</a></li><li><a href="ui_list.module_reel-List.html">List</a></li><li><a href="ui_main.module_reel-Main.html">Main</a></li><li><a href="ui_montage-studio-loader.module_reel-MontageStudioLoader.html">MontageStudioLoader</a></li><li><a href="ui_press-composer-layers.module_reel-PressComposerLayers.html">PressComposerLayers</a></li><li><a href="ui_square.module_reel-Square.html">Square</a></li><li><a href="ui_tree-list.module_reel-TreeList.html">TreeList</a></li><li><a href="UserInterfaceDescriptor.html">UserInterfaceDescriptor</a></li><li><a href="-_rotation-composer.module_reel-RotationComposer.html">RotationComposer</a></li></ul><h3>Events</h3><ul><li><a href="AbstractButton.html#event:action">action</a></li><li><a href="AbstractButton.html#event:longAction">longAction</a></li><li><a href="AbstractCheckbox.html#.event:action">action</a></li><li><a href="AbstractCheckbox.html#event:action">action</a></li><li><a href="AbstractControl.html#event:action">action</a></li><li><a href="AbstractLink.html#.event:action">action</a></li><li><a href="AbstractLink.html#event:action">action</a></li><li><a href="AbstractNumberField.html#event:action">action</a></li><li><a href="AbstractRadioButton.html#.event:action">action</a></li><li><a href="AbstractRadioButton.html#event:action">action</a></li><li><a href="AbstractSelect.html#.event:action">action</a></li><li><a href="AbstractTextField.html#.event:action">action</a></li><li><a href="AbstractTextField.html#event:action">action</a></li><li><a href="AbstractToggleButton.html#.event:action">action</a></li><li><a href="AbstractToggleButton.html#.event:longAction">longAction</a></li><li><a href="AbstractToggleSwitch.html#.event:action">action</a></li><li><a href="module-montage_ui_control.html#~event:longpress">longpress</a></li><li><a href="module-_montage_ui_native_button.reel_.Button.html#.event:action">action</a></li><li><a href="module-_montage_ui_native_button.reel_.Button.html#.event:hold">hold</a></li><li><a href="module-_montage_ui_segmented-bar.reel_-SegmentedBar.html#event:action">action</a></li><li><a href="module-_montage_ui_segmented-bar.reel_-SegmentedBar.html#event:longAction">longAction</a></li><li><a href="module-montage_ui_base_abstract-button-AbstractButton.html#event:action">action</a></li><li><a href="montage_ui_base_abstract-select.module_reel-AbstractSelect.html#event:action">action</a></li><li><a href="montage_ui_base_abstract-slider.module_reel-AbstractSlider.html#event:action">action</a></li><li><a href="montage_ui_base_abstract-toggle-button.module_reel-AbstractToggleButton.html#event:action">action</a></li><li><a href="montage_ui_base_abstract-toggle-switch.module_reel-AbstractToggleSwitch.html#event:action">action</a></li><li><a href="Overlay.html#.event:dismiss">dismiss</a></li><li><a href="PressComposer.html#.event:longPress">longPress</a></li><li><a href="PressComposer.html#.event:press">press</a></li><li><a href="PressComposer.html#.event:pressCancel">pressCancel</a></li><li><a href="PressComposer.html#.event:pressStart">pressStart</a></li><li><a href="RotationComposer.html#.event:rotation">rotation</a></li><li><a href="RotationComposer.html#.event:rotationStart">rotationStart</a></li><li><a href="SegmentedBar.html#event:action">action</a></li><li><a href="UndoManager.html#.event:operationRegistered">operationRegistered</a></li><li><a href="UndoManager.html#.event:redo">redo</a></li><li><a href="UndoManager.html#.event:undo">undo</a></li></ul><h3>Namespaces</h3><ul><li><a href="EventManager.html">EventManager</a></li></ul><h3>Global</h3><ul><li><a href="global.html#_isLinkLoadEventAvailable">_isLinkLoadEventAvailable</a></li><li><a href="global.html#_offlinePrimaryKeys">_offlinePrimaryKeys</a></li><li><a href="global.html#_webkitVersion">_webkitVersion</a></li><li><a href="global.html#addPrimaryKeyDependency">addPrimaryKeyDependency</a></li><li><a href="global.html#AuthorizationPolicy">AuthorizationPolicy</a></li><li><a href="global.html#childrenExpression">childrenExpression</a></li><li><a href="global.html#childrenFromNode">childrenFromNode</a></li><li><a href="global.html#collapseAll">collapseAll</a></li><li><a href="global.html#collapseNode">collapseNode</a></li><li><a href="global.html#compiledSyntax">compiledSyntax</a></li><li><a href="global.html#converters">converters</a></li><li><a href="global.html#createDefaultBlueprintForObject">createDefaultBlueprintForObject</a></li><li><a href="global.html#createDefaultObjectDescriptorForObject">createDefaultObjectDescriptorForObject</a></li><li><a href="global.html#data">data</a></li><li><a href="global.html#deserialize">deserialize</a></li><li><a href="global.html#determinate">determinate</a></li><li><a href="global.html#error">error</a></li><li><a href="global.html#expandAll">expandAll</a></li><li><a href="global.html#expandNode">expandNode</a></li><li><a href="global.html#expression">expression</a></li><li><a href="global.html#fooCount">fooCount</a></li><li><a href="global.html#fulfilled">fulfilled</a></li><li><a href="global.html#group">group</a></li><li><a href="global.html#handleTreeChange">handleTreeChange</a></li><li><a href="global.html#identifier">identifier</a></li><li><a href="global.html#initiallyExpanded">initiallyExpanded</a></li><li><a href="global.html#initMontage">initMontage</a></li><li><a href="global.html#initWithExpression">initWithExpression</a></li><li><a href="global.html#initWithObjects">initWithObjects</a></li><li><a href="global.html#initWithPath">initWithPath</a></li><li><a href="global.html#initWithSyntax">initWithSyntax</a></li><li><a href="global.html#isNodeExpanded">isNodeExpanded</a></li><li><a href="global.html#manager">manager</a></li><li><a href="global.html#MontageInterpreter">MontageInterpreter</a></li><li><a href="global.html#ok">ok</a></li><li><a href="global.html#parameters">parameters</a></li><li><a href="global.html#pending">pending</a></li><li><a href="global.html#progress">progress</a></li><li><a href="global.html#progressState">progressState</a></li><li><a href="global.html#promise">promise</a></li><li><a href="global.html#referenceFromValue">referenceFromValue</a></li><li><a href="global.html#rejected">rejected</a></li><li><a href="global.html#state">state</a></li><li><a href="global.html#syntax">syntax</a></li><li><a href="global.html#value">value</a></li><li><a href="global.html#valueFromReference">valueFromReference</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a> on Wed Nov 15 2017 12:53:29 GMT-0800 (PST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
